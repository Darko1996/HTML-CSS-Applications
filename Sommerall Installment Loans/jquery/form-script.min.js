jQuery(document).ready(function($){for(var t=(new Date).getFullYear(),n=t;n>t-25;n--)$("#year").append('<option value="'+n+'">'+n+"</option>");var url=window.location,site_address=url.protocol+"//"+url.hostname;function ajax_call(url){$.ajax({url:url,jsonp:"callback",dataType:"jsonp",data:{format:"json"},success:function(response){$("#city").val(response.city),$("#state").val(response.state_name)}})}$("#referrer").val(site_address),$("#app_page").val(window.location.href),$("#customer_div").hide(),$("#app_page").val(parent.window.location.href),$("input, textarea").placeholder(),$("#app input, #app select").prop("disabled",!0),$("select#year").prop("disabled",!1),$("#year").change(function(){var year_val=$("#year option:selected").val();$.getJSON("../app/blackbook.php?js=1&srv=getMakes&year="+year_val,function(data,status){var items=[];items.push("<option selected='selected'>Select Make</option>"),$.each(data,function(key,val){items.push('<option value="'+val.make+'">'+val.make+"</option>")});var makelist='<select  name="make" id="make"  class="sel">'+items.join("")+"</select>";$("#make").html(makelist),$("select#make").prop("disabled",!1)})}),$("#make").change(function(){var year_val=$("#year option:selected").val(),make_val=$("#make option:selected").val();$.getJSON("../app/blackbook.php?js=1&srv=getModels&year="+year_val+"&make="+make_val,function(data,status){var items=[];items.push("<option selected='selected'>Select Model</option>"),$.each(data,function(key,val){items.push('<option value="'+val.model+'">'+val.model+"</option>")});var modellist='<select  name="model" id="model"  class="sel">'+items.join("")+"</select>";$("#model").html(modellist),$("select#model").prop("disabled",!1)})}),$("#model").change(function(){var year_val=$("#year option:selected").val(),make_val=$("#make option:selected").val(),model_val=$("#model option:selected").val();$.getJSON("../app/blackbook.php?js=1&srv=getSeriesStyle&year="+year_val+"&make="+make_val+"&model="+model_val,function(data,status){var items=[];items.push("<option selected='selected'>Select Style</option>"),$.each(data,function(key,val){items.push('<option value="'+val.class+";"+val.style+'">'+val.class+" "+val.style+"</option>")});var stylelist='<select  name="style" id="style"  class="sel">'+items.join("")+"</select>";$("#style").html(stylelist),$("select#style").prop("disabled",!1),$("select#mileage").prop("disabled",!1)})}),$("#cell").mask("+1(000) 000-0000"),$("#zip").on("change keyup",function(){var url;$("#zip").val().length>4&&ajax_call("https://www.ezleadtracker.com/loantrack2/remote/zipcode/zip/zipcode/"+$("#zip").val())}),$("#app").validate({rules:{name:{required:!0,nameFormat:!0,minlength:2},cell:{required:!0,/* usPhoneFormat:!0 */ maxlenght:16},zip:{required:!0,minlength:5},email:{required:!0,email:!0},agree:"required"},messages:{name:"Please, enter your First and Last name",zip:"Please enter your zip",cell:"Please enter your phone number",email:"Please enter a valid email address",agree:"Please accept our policy"}}),$.validator.addMethod("nameFormat",function(value,element){return!this.optional(element)&&"[test]"==value||(this.optional(element)||/^[A-Za-z]+[\s|,][A-Z'a-z']{1,19}$/.test(value))},"Please, enter your First and Last name"),jQuery.validator.addMethod("usPhoneFormat",function(value,element){return this.optional(element)||/^\(\d{3}\) \d{3}\-\d{4}( x\d{1,6})?$/.test(value)},"Enter a valid phone number."),$("#mileage").change(function(){$("#vehicle_div").hide(),$("#customer_div").show(),$("#app input, #app select").prop("disabled",!1)}),$("#next-btn").click(function(){$("#vehicle_div").hide(),$("#customer_div").show()}),$("#previous-btn").click(function(){$("#vehicle_div").show(),$("#customer_div").hide()}),$("#sms").click(function(){var checkBoxes=$('input[name="sms_opt_in"]');checkBoxes.prop("checked",!checkBoxes.prop("checked"))}),$("#agreetext").click(function(){var checkBoxes=$('input[name="agree"]');checkBoxes.prop("checked",!checkBoxes.prop("checked"))})});